<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="icon" type="image/ico" href="favicon.ico">
    <title>Grid-Sizer</title>
    <link href="css/grid-sizer.css" rel="stylesheet">
    <script src="js/jquery-1.10.2.js"></script>
    <script src="js/jquery-ui.js"></script>
</head>
<body>
    <div class="gs-sizer-container">
        <div class="gs-view-container">
            <div class="gs-snap-container">
                <div class="gs-snap-top"></div>
                <div class="gs-snap-bottom"></div>
                <div class="gs-snap-left"></div>
                <div class="gs-snap-right"></div>
                <div class="gs-snap-center"></div>
            </div>
            <div class="gs-sizer-guide">
                <div class="gs-guide-y gs-guide-crosshair"></div>
                <div class="gs-guide-x gs-guide-crosshair"></div>
                <div class="gs-guide-center gs-guide-circle"></div>
            </div>
            <div class="gs-inactive">
                <div class="gs-crosshair-y gs-crosshair"></div>
                <div class="gs-crosshair-x gs-crosshair"></div>
            </div>
            <div class="gs-quadrant-sizer"><div class="gs-move-icon"></div></div>
            <div class="gs-q1 gs-quadrant"></div>
            <div class="gs-q2 gs-quadrant"></div>
            <div class="gs-q3 gs-quadrant"></div>
            <div class="gs-q4 gs-quadrant"></div>
        </div>
    </div>

<script>
/* Set the snap areas top and left here based on the size of the container */
function resize_quadrants(x, y) {
    //x & y relative to top-left corner of view-container
    var viewcontainer = $('.gs-view-container');
    var height = y / parseInt(viewcontainer.css('height').split('px')[0]);
    var width = x / parseInt(viewcontainer.css('width').split('px')[0]);
    $('.gs-q1, .gs-q2').css('height', 100*(height)+'%');
    $('.gs-q1, .gs-q3').css('width', 100*(width)+'%');
    //fix display for when circle on top left edge
    if(x == 0) {
        $('.gs-q3').css('height', '0%');
        $('.gs-q4').css('height', 100*(1-height)+'%');
    }
    else {
        $('.gs-q3, .gs-q4').css('height', 100*(1-height)+'%');
    }
    $('.gs-q2, .gs-q4').css('width', 100*(1-width)+'%');
    console.log(height);
    console.log(width);
}
function inactive_crosshair(x, y) {
    $('.gs-crosshair-x').css('left', x+'px');
    $('.gs-crosshair-y').css('top', y+'px');
}
$('.gs-quadrant-sizer').draggable({
    drag: function(){
        //do the black crosshair here
        console.log($('.gs-quadrant-sizer').css('left'));
        console.log($('.gs-quadrant-sizer').css('top'));
        $('.gs-inactive, .gs-sizer-guide').css('display', 'block');
        var $dot = $('.gs-quadrant-sizer');
        var $q1 = $('.gs-q1');
        var x = parseInt($dot.css('left').split('px')[0]) + 22;
        var y = parseInt($dot.css('top').split('px')[0]) + 22;
        inactive_crosshair(x, y);
    },
    stop: function(){
        $('.gs-inactive, .gs-sizer-guide').css('display', 'none');
        var $dot = $('.gs-quadrant-sizer');
        var $q1 = $('.gs-q1');
        var x = parseInt($dot.css('left').split('px')[0]) + 22;
        var y = parseInt($dot.css('top').split('px')[0]) + 22;
        console.log(x + ', ' + y);
        resize_quadrants(x, y);
    },
    containment: '.gs-sizer-container',
    snap: '.gs-snap-container > div, .gs-sizer-container',
    snapMode: 'inner',
    snapTolerance: 60
});
</script>
</body>
</html>